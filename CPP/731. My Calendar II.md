# [731. My Calendar II](https://leetcode.com/problems/my-calendar-ii/description/)
* 与My Calendar I的区别在于多了一个overlap set,用来保存所有的两个重合部分,这样如果新加入的和overlaps有重合,那就符合条件返回false
* 实际下来,用vector比用set要快很多
* http://www.cnblogs.com/grandyang/p/7968035.html

```c++
class MyCalendarTwo {
public:
    MyCalendarTwo() {
        
    }
    
    bool book(int start, int end) {
        for(auto it : overlaps){
            if(!(start >= it.second || end <= it.first))
                return false;
        }
        
        for(auto it : books){
            if(!(start >= it.second || end <= it.first)){
                // 这里注意: overlaps里保存的是两个区间的交集,得到的方法是去两个起始时间的较大值, 和结束时间的较小值
                // 而且注意不能立刻就break,而是要把所有的有交集的都保存在overlaps里
                overlaps.push_back({max(start, it.first), min(end, it.second)}); 
            }
        }
        
        books.push_back({start, end});
        return true;
    }
    
private:
    vector<pair<int, int>> books, overlaps;
};
```
